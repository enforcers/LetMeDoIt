<% content_for :javascript do %>
  <script type="text/javascript">
    $(document).ready(function(){
      $('#myprofile-tabs a').click(function (e) {
        e.preventDefault();
        $(this).tab('show');
      });
    });
  </script>
<% end %>

<ul class="nav nav-tabs" id="myprofile-tabs">
  <li class="active"><a href="#edit-profile">Edit Profile</a></li>
  <li><a href="#skills">My Skills</a></li>
  <li><a href="#preferences">Preferences</a></li>
</ul>
<div class="tab-content">
  <div class="tab-pane fade in active" id="edit-profile">
    <%= simple_form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, :class => "form-horizontal", :multipart => true }, :defaults => { :input_html => { :class => "span4" } }) do |f| %>

      <%= f.input :email, :as => :email %>
      <%= f.input :username %>
      <%= f.input :aboutMe, :as => :text, :input_html => { :rows => 10 } %>
      <%= f.input :photo, :as => :image_upload %>
      <%= f.input :password, :as => :password, :hint => "Leave blank if you don't want to change it" %>
      <%= f.input :password_confirmation, :as => :password %>
      <%= f.input :current_password, :hint => "We need your current password to confirm your changes" %>

      <div class="form-actions">
        <%= f.submit "Update", :class => "btn btn-primary btn-large" %>
      </div>
    <% end %>
  </div>
  <div class="tab-pane fade" id="skills">
    <p>
      <%= link_to "New Skill", new_skill_path, :class => "ym-button ym-add" %>
      <%= render :partial => 'skills/index', :locals =>{ :withActions => true } %>
    </p>
  </div>
  <div class="tab-pane fade" id="preferences">
    <p>
      <h3>Cancel my account</h3>
      <p>Unhappy? <%= link_to "Cancel my account", registration_path(resource_name), :data => { :confirm => "Are you sure?" }, :method => :delete %>.</p>
    </p>
  </div>
</div>